<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="Generator" content="EditPlus®">
		<meta name="Author" content="">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		<title></title>
		<!--
			基于任务四:
				限制输入的数字在10-100
				队列元素数量最多限制为60个，当超过60个时，添加元素时alert出提示
				直接用高度表示数字大小
				实现一个简单的排序功能，如冒泡排序（不限制具体算法），用可视化的方法表达出来
		-->
		<style>
		*{
			margin:0;
			padding:0;
			outline:none;
			box-sizing:border-box;
		}
		ul{
			list-style:none;
		}
		#container{
			width:50%;
			margin:10px auto;
			padding:20px;
			border:1px solid #ccc;
		}
		#container input[type="number"]{
			padding-left:10px;
			width:80px;
		}
		#container input[type="button"]{
			border:1px solid #222;
			border-radius:5px;
			background:#fff;
			width:60px;
			cursor:pointer;
			margin:0 10px;
		}
		#container ul{
			width:100%;
			height:100px;
			margin:20px 0;
			font-size:0;
			/*父级元素使用,消除inline-block水平呈现的元素间由于换行显示或空格分隔的情况下产生的间距*/
		} 
		#container li{
			display:inline-block;
			vertical-align:bottom;/*让ul中高度不同的li底部对齐*/
			width:20px;
			background:#f00;
			color:#fff;
			cursor:pointer;
			margin-right:2px;
		}
		</style>
	</head>
	<body>
		<div id="container">
			<input type="number" id="number"/>
			<input type="button" value="左侧入" onclick="insertFromLeft()"/>
			<input type="button" value="右侧入" onclick="insertFromRight()"/>
			<input type="button" value="左侧出" onclick="removeFromLeft()"/>
			<input type="button" value="右侧出" onclick="removeFromRight()"/>
			<ul id="list">
				
			</ul>
			<input type="button" value="排序" onclick="bubbleSort()"/>
		</div>
		<script>
			//左侧插入
			function insertFromLeft(){
				var num=document.getElementById("number").value;//获取文本框的值
				if(num==""||num>100||num<10){
					alert("请输入10-100的数字");
				}else{//限制输入的数字在10-100
					var oList=document.getElementById("list");//获取ul对象
					var nodeNum=document.getElementsByClassName("thisNode");
					if(nodeNum.length>60){
						alert("队列元素数量最多限制为60个!");
					}else{
						var oLi=document.createElement("li");//创建li元素
						oLi.innerHTML=num;
						oLi.setAttribute("class","thisNode");//为节点增加class属性
						oLi.style.height=num+"px";//设置li的高度
						oLi.style.marginTop=(100-num)+"px";//保证添加不同高度的li,bottom不会移动
						if(oList.firstChild){
							oList.insertBefore(oLi,oList.firstChild);//插入到第一个li的前面
						}else{
							oList.appendChild(oLi);//将创建的li添加到ul尾部
						}
						document.getElementById("number").value="";//清空文本框的值
						var nodeNum=document.getElementsByClassName("thisNode");
						for(var i=0;i<nodeNum.length;i++){
								nodeNum[i].onclick=function(){
								this.parentNode.removeChild(this);
							};
						}
					}
					
				}
			}
			//右侧插入
			function insertFromRight(){
				var num=document.getElementById("number").value;//获取文本框的值
				if(num==""||num>100||num<10){
					alert("请输入10-100的数字");
				}else{//限制输入的数字在10-100
						var oList=document.getElementById("list");//获取ul对象
						var nodeNum=document.getElementsByClassName("thisNode");
						if(nodeNum.length>60){
							alert("队列元素数量最多限制为60个!");
						}else{
						var oLi=document.createElement("li");//创建li元素
						oLi.innerHTML=num;
						oLi.setAttribute("class","thisNode");//为节点增加class属性
						oLi.style.height=num+"px";//设置li的高度
						oLi.style.marginTop=(100-num)+"px";//保证添加不同高度的li,bottom不会移动
						oList.appendChild(oLi);//将创建的li添加到ul尾部
						document.getElementById("number").value="";//清空文本框的值
						var nodeNum=document.getElementsByClassName("thisNode");
						for(var i=0;i<nodeNum.length;i++){
								nodeNum[i].onclick=function(){
								this.parentNode.removeChild(this);
							};
						}
					}
				}
			}
			//左侧移除
			function removeFromLeft(){
				var oList=document.getElementById("list");//获取ul对象
				var nodeNum=document.getElementsByClassName("thisNode");
				oList.removeChild(nodeNum[0]);//删除第一个子元素
			}
			//右侧移除
			function removeFromRight(){
				var oList=document.getElementById("list");//获取ul对象
				var nodeNum=document.getElementsByClassName("thisNode");
				oList.removeChild(nodeNum[nodeNum.length-1]);//删除最后一个子元素
			}

			//点击队列中任何一个元素，则该元素会被从队列中删除
			var nodeNum=document.getElementsByClassName("thisNode");
			for(var i=0;i<nodeNum.length;i++){
					nodeNum[i].onclick=function(){
					this.parentNode.removeChild(this);
				};
			}
			//节点排序
			function bubbleSort(){
				var nodeNum=document.getElementsByClassName("thisNode");//对象,只支持length和[],伪数组
				for(var i=0;i<nodeNum.length-1;i++){
					for(var j=0;j<nodeNum.length-i-1;j++){
						if(nodeNum[j].style.height>nodeNum[j+1].style.height){
							var temp1=nodeNum[j].style.height;
							var temp2=nodeNum[j].style.marginTop;
							nodeNum[j].style.height=nodeNum[j+1].style.height;
							nodeNum[j].style.marginTop=nodeNum[j+1].style.marginTop;
							nodeNum[j+1].style.height=temp1;
							nodeNum[j+1].style.marginTop=temp2;
						}
					}
				}
				/*nodeNum.sort(function(a,b){
						return a.style.height-b.style.height;
				});*/
			}
		</script>
	</body>
</html>
